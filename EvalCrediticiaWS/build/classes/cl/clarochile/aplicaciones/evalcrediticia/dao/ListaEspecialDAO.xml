<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.amx.service.dao.ListaEspecialDAO">

	<resultMap id="resultListaEspecial" type="listaEspecialTO">
		<result property="nombreListaEspecial" column="NOMB_LISTASESPECIALES" />
		<result property="valorConcepto" column="VLOR_CONCEPTO" />
		<result property="tipoLista" column="TIPO_LISTA" />
		<result property="campoConsulta" column="CAMPO_CONSULTA" />
		<result property="campoResultado" column="CAMPO_RESULTADO" />
		<result property="valorDefecto" column="VLOR_PORDEFECTO" />
		<result property="stado" column="ESTADO" />
		<result property="fechaAlta" column="FECH_ALTA" />
		<result property="codUsuarioAlta" column="CORR_USUARIOALTA" />
		<result property="fechaMod" column="FECH_MODIFICACION" />
		<result property="codUsuarioMod" column="CORR_USUARIO" />
	</resultMap>

	<parameterMap id="listaEspecialParam" type="listaEspecialTO">
		<parameter property="resultados" jdbcType="CURSOR" javaType="java.sql.ResultSet" mode="OUT" resultMap="resultListaEspecial" />
	</parameterMap>

	<select id="listarListasEspeciales" parameterType="listaEspecialTO" statementType="CALLABLE">
		{ call pkg_evc_listasespeciales.PRO_EVC_LISTARLISTAESPECIAL
		(
		#{nombreListaEspecial, mode=IN, jdbcType=VARCHAR},
		#{valorConcepto, mode=IN, jdbcType=VARCHAR},
		#{tipoLista, mode=IN, jdbcType=VARCHAR},
		#{campoConsulta, mode=IN, jdbcType=VARCHAR},
		#{campoResultado, mode=IN, jdbcType=VARCHAR},
		#{valorDefecto, mode=IN, jdbcType=VARCHAR},
		#{stado, mode=IN, jdbcType=VARCHAR},
		#{resultados, jdbcType=CURSOR, mode=OUT, resultMap=resultListaEspecial, javaType=java.sql.ResultSet}
		)
		}
	</select>

	<select id="insertarListaEspecial" parameterType="listaEspecialTO" statementType="CALLABLE">
		{ call pkg_evc_listasespeciales.PRO_EVC_INSERTARLISTASESPECIAL
		(
		#{nombreListaEspecial, mode=IN, jdbcType=VARCHAR},
		#{valorConcepto, mode=IN, jdbcType=VARCHAR},
		#{tipoLista, mode=IN, jdbcType=VARCHAR},
		#{campoConsulta, mode=IN, jdbcType=VARCHAR},
		#{campoResultado, mode=IN, jdbcType=VARCHAR},
		#{valorDefecto, mode=IN, jdbcType=VARCHAR},
		#{stado, mode=IN, jdbcType=VARCHAR},
		#{codUsuarioAlta, mode=IN, jdbcType=INTEGER}
		)
		}
	</select>

	<select id="obtenerListaEspecialPorCodigo" parameterType="listaEspecialTO" statementType="CALLABLE">
		{ call pkg_evc_listasespeciales.PRO_EVC_BUSCARLISTAESPECIALXID
		(
		#{nombreListaEspecial, mode=IN, jdbcType=VARCHAR},
		#{resultados, jdbcType=CURSOR, mode=OUT, resultMap=resultListaEspecial, javaType=java.sql.ResultSet}
		)
		}
	</select>

	<select id="actualizarListaEspecial" parameterType="listaEspecialTO" statementType="CALLABLE">
		{ call PKG_EVC_LISTASESPECIALES.PRO_EVC_MODIFICARLISTAESPECIAL
		(
		#{nombreListaEspecial, mode=IN, jdbcType=VARCHAR},
		#{valorConcepto, mode=IN, jdbcType=VARCHAR},
		#{tipoLista, mode=IN, jdbcType=VARCHAR},
		#{campoConsulta, mode=IN, jdbcType=VARCHAR},
		#{campoResultado, mode=IN, jdbcType=VARCHAR},
		#{valorDefecto, mode=IN, jdbcType=VARCHAR},
		#{stado, mode=IN, jdbcType=VARCHAR},
		#{codUsuarioMod, mode=IN, jdbcType=INTEGER}
		)
		}
	</select>

</mapper>